DECLARE @s varchar(64)
DECLARE MY_CURSOR CURSOR 
  LOCAL STATIC READ_ONLY FORWARD_ONLY
FOR 
SELECT name FROM master.sys.databases where name not in ('tempdb')

OPEN MY_CURSOR
FETCH NEXT FROM MY_CURSOR INTO @s
WHILE @@FETCH_STATUS = 0
BEGIN	
	DBCC CHECKDB(@s,NOINDEX) WITH PHYSICAL_ONLY;
FETCH NEXT FROM MY_CURSOR INTO @s
END
CLOSE MY_CURSOR
DEALLOCATE MY_CURSOR
